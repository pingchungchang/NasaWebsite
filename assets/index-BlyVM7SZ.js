(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const v=document.getElementsByClassName("image-left")[0],S=document.getElementsByClassName("vertical-line")[0],u=document.getElementsByClassName("grid-left")[0].clientWidth;console.log(u);let y,E;S.addEventListener("mousedown",e=>{y=e.clientX,E=parseInt(document.defaultView.getComputedStyle(v).width,10),document.documentElement.addEventListener("mousemove",L),document.documentElement.addEventListener("mouseup",w)});function L(e){var t=E+(e.clientX-y);t>u&&(t=u),v.style.width=t+"px"}function w(){document.documentElement.removeEventListener("mousemove",L),document.documentElement.removeEventListener("mouseup",w)}const C=document.getElementsByClassName("timeline1")[0],p=C.querySelectorAll(".timeline-step"),B=document.getElementsByClassName("timeline2")[0],f=B.querySelectorAll(".timeline-step"),M=document.querySelector(".description-block"),k=document.querySelector(".title-place");let d=[];d.push({events:[["./0722Hualien.png","Jul22"],["",`Jul25
Formation`],["./0908Hualien.png","Sep08"],["./0920Hualien.png","Sep20"],["",`Sep23
Typhoon Ragasa`],["./0930Hualien.png","Sep30"]],buttonClassName:"tag-event1",description:"description should also change according to the selected timestamp? And we should put the hypothesis (針對 SAR 的觀察) over here",title:"Fata'an Creek Barrier Lake Overflow Incident",mapEmbedUrl:"https://www.openstreetmap.org/export/embed.html?bbox=121.3639,23.4735,121.4039,23.4935&layer=mapnik&marker=23.4835,121.3839"});d.push({events:[["./920.png","BIG EVENT"],["./930.png","Sep40"],["./920.png","Sep40"],["./930.png","BIG EVENT TOO!"]],buttonClassName:"tag-event2",description:"so what event should be here?",title:"Jinsha River",mapEmbedUrl:"https://www.openstreetmap.org/export/embed.html?bbox=98.6313122525692%2C31.062934758216375%2C98.78323257117272%2C31.1593475455504&amp;layer=mapnik&amp;marker=31.11115339062677%2C98.70727241187092"});var l=d[0];function m(e,t){var s,r;e==1?(document.getElementsByClassName("image-left")[0].style.backgroundImage=`url(${l.events[t][0]})`,console.log(l.events[t][0]),s=p,r=p[t]):(s=f,r=f[t],document.getElementsByClassName("image-right")[0].src=l.events[t][0]);var o=0;s.forEach(function(n,i){n.classList.remove("active"),i>=l.events.length?n.style.display="none":(console.log(l.events[i][0]),l.events[i][0]!=""?(o+=1,n.classList.remove("disabled"),n.querySelector("span").innerHTML=o):(n.querySelector("span").innerHTML="",n.classList.add("disabled")),n.querySelector("p").innerHTML=l.events[i][1],n.style.display="grid")}),r.classList.add("active")}function b(e){l=e,k.innerHTML=e.title,M.innerHTML=e.description,console.log(`reloading ${e.buttonClassName}`),m(1,0),m(2,0),d.forEach(function(t){const s=document.querySelector(`.${t.buttonClassName}`);console.log(s),s.onclick=function(){b(t)}})}p.forEach(function(e,t){e.onclick=function(){m(1,t)}});f.forEach(function(e,t){e.onclick=function(){m(2,t)}});b(d[0]);const a=document.getElementById("modal-overlay"),N=document.querySelector(".modal-close-btn");function I(){a.classList.remove("hidden")}function g(){a.classList.add("hidden")}N.addEventListener("click",g);a.addEventListener("click",e=>{e.target===a&&g()});window.addEventListener("keydown",e=>{e.key==="Escape"&&!a.classList.contains("hidden")&&g()});window.addEventListener("load",I);const q=document.getElementById(".show-map-btn"),c=document.getElementById(".modal-overlay"),O=document.querySelector(".modal-close-btn");document.getElementById("event-map-iframe");function T(){c.classList.remove("hidden")}function h(){c.classList.add("hidden")}q.addEventListener("click",T);O.addEventListener("click",h);c.addEventListener("click",e=>{e.target===c&&h()});window.addEventListener("keydown",e=>{e.key==="Escape"&&!c.classList.contains("hidden")&&h()});
